package com.fiftytwomoments.ui {	import com.fiftytwomoments.DisplayContents;	import com.nanaimostudio.utils.TraceUtility;	import flash.events.MouseEvent;	import org.casalib.display.CasaBitmap;	import org.casalib.display.CasaMovieClip;	import org.casalib.display.CasaSprite;	import flash.text.TextField;	import mx.core.BitmapAsset;		/**	 * ...	 * @author Boon Chew	 */	public class PhotoContent extends CasaMovieClip	{		public var title:TextField;		public var photo:CasaSprite;		private var bitmap:CasaBitmap;		private var _week:int;		private var _interactionDelegate:Object;				public function PhotoContent() 		{			photo = new CasaSprite();			photo.name = "photo";			addChild(photo);						this.mouseChildren = false;			this.interactionEnabled = false;		}				private function onClick(e:MouseEvent):void 		{			//TraceUtility.debug(this, "onClick " + _interactionDelegate + " " + Boolean(_interactionDelegate is DisplayContents) + " " + _interactionDelegate.hasOwnProperty("onPhotoContentClicked"));			if (_interactionDelegate != null)			{				if (_interactionDelegate.hasOwnProperty("onPhotoContentClicked"))				{					_interactionDelegate.onPhotoContentClicked(this);				}			}		}				public function set interactionEnabled(value:Object):void 		{			this.buttonMode = value;			this.mouseEnabled = value;						if (value)			{				this.addEventListener(MouseEvent.CLICK, onClick);			}			else			{				this.removeEventListener(MouseEvent.CLICK, onClick);			}		}				public function set interactionDelegate(value:Object):void		{			_interactionDelegate = value;		}				public function setPhoto(value:BitmapAsset):void		{			if (bitmap != null)			{				bitmap.destroy();			}						bitmap = new CasaBitmap(value.bitmapData);			bitmap.x = -bitmap.width * 0.5;			bitmap.y = -bitmap.height * 0.5;			photo.addChild(bitmap);			title.visible = false;		}				public function removePhoto():void		{			photo.removeAllChildren(true);			title.visible = true;		}				public function hasPhoto():Boolean		{			return photo.numChildren > 0;		}				public function set week(value:int):void 		{			_week = value;			title.text = "moment " + _week;		}				public function get week():int 		{			return _week;		}	}}